// SPDX-License-Identifier: MIT
pragma solidity ^0.8.13;

import "forge-std/Test.sol";
import "../src/Pairings.sol";

contract PairingsTest is Test {
    Pairings public pairings;

    function setUp() public {
        pairings = new Pairings();
    }

    // pairing(G2, neg(G1)) == pairing(G2,G1)
    function easy2PairingTest() public view {
        // neg(G1)
        uint256 aG1_x = 1;
        uint256 aG1_y = 21888242871839275222246405745257275088696311157297823662689037894645226208581;

        // G2
        uint256 bG2_x1 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
        uint256 bG2_x2 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
        uint256 bG2_y1 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
        uint256 bG2_y2 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;

        // G1
        uint256 cG1_x = 1;
        uint256 cG1_y = 2;

        // G2
        uint256 dG2_x1 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
        uint256 dG2_x2 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
        uint256 dG2_y1 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
        uint256 dG2_y2 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;

        uint256[12] memory points =
            [aG1_x, aG1_y, bG2_x2, bG2_x1, bG2_y2, bG2_y1, cG1_x, cG1_y, dG2_x2, dG2_x1, dG2_y2, dG2_y1];

        bool x = pairings.run(points);
        console2.log("result:", x);
    }

    // function testPairings() public view {
    //     uint256 aG1_x = 3010198690406615200373504922352659861758983907867017329644089018310584441462;
    //     uint256 aG1_y = 17861058253836152797273815394432013122766662423622084931972383889279925210507;

    //     uint256 bG2_x1 = 2725019753478801796453339367788033689375851816420509565303521482350756874229;
    //     uint256 bG2_x2 = 7273165102799931111715871471550377909735733521218303035754523677688038059653;
    //     uint256 bG2_y1 = 2512659008974376214222774206987427162027254181373325676825515531566330959255;
    //     uint256 bG2_y2 = 957874124722006818841961785324909313781880061366718538693995380805373202866;

    //     uint256 cG1_x = 4503322228978077916651710446042370109107355802721800704639343137502100212473;
    //     uint256 cG1_y = 6132642251294427119375180147349983541569387941788025780665104001559216576968;

    //     uint256 dG2_x1 = 18029695676650738226693292988307914797657423701064905010927197838374790804409;
    //     uint256 dG2_x2 = 14583779054894525174450323658765874724019480979794335525732096752006891875705;
    //     uint256 dG2_y1 = 2140229616977736810657479771656733941598412651537078903776637920509952744750;
    //     uint256 dG2_y2 = 11474861747383700316476719153975578001603231366361248090558603872215261634898;

    //     uint256[12] memory points =
    //         [aG1_x, aG1_y, bG2_x2, bG2_x1, bG2_y2, bG2_y1, cG1_x, cG1_y, dG2_x2, dG2_x1, dG2_y2, dG2_y1];

    //     bool x = pairings.run(points);
    //     console2.log("result:", x);
    // }

    // function testPairings2() public view {
    //     // uint256 aG1_x = 3010198690406615200373504922352659861758983907867017329644089018310584441462;
    //     // uint256 aG1_y = 17861058253836152797273815394432013122766662423622084931972383889279925210507;

    //     // uint256 bG2_x1 = 2725019753478801796453339367788033689375851816420509565303521482350756874229;
    //     // uint256 bG2_x2 = 7273165102799931111715871471550377909735733521218303035754523677688038059653;
    //     // uint256 bG2_y1 = 2512659008974376214222774206987427162027254181373325676825515531566330959255;
    //     // uint256 bG2_y2 = 957874124722006818841961785324909313781880061366718538693995380805373202866;

    //     // uint256 cG1_x = 4503322228978077916651710446042370109107355802721800704639343137502100212473;
    //     // uint256 cG1_y = 6132642251294427119375180147349983541569387941788025780665104001559216576968;

    //     // uint256 dG2_x1 = 18029695676650738226693292988307914797657423701064905010927197838374790804409;
    //     // uint256 dG2_x2 = 14583779054894525174450323658765874724019480979794335525732096752006891875705;
    //     // uint256 dG2_y1 = 2140229616977736810657479771656733941598412651537078903776637920509952744750;
    //     // uint256 dG2_y2 = 11474861747383700316476719153975578001603231366361248090558603872215261634898;

    //     uint256 aG1_x = 1368015179489954701390400359078579693043519447331113978918064868415326638035;
    //     uint256 aG1_y = 11970132820537103637166003141937572314130795164147247315533067598634108082819;

    //     uint256 bG2_x1 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
    //     uint256 bG2_x2 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
    //     uint256 bG2_y1 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
    //     uint256 bG2_y2 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;

    //     uint256 cG1_x = 1;
    //     uint256 cG1_y = 2;

    //     uint256 dG2_x1 = 18029695676650738226693292988307914797657423701064905010927197838374790804409;
    //     uint256 dG2_x2 = 14583779054894525174450323658765874724019480979794335525732096752006891875705;
    //     uint256 dG2_y1 = 2140229616977736810657479771656733941598412651537078903776637920509952744750;
    //     uint256 dG2_y2 = 11474861747383700316476719153975578001603231366361248090558603872215261634898;

    //     bytes memory points2 =
    //         abi.encode(aG1_x, aG1_y, bG2_x2, bG2_x1, bG2_y2, bG2_y1, cG1_x, cG1_y, dG2_x2, dG2_x1, dG2_y2, dG2_y1);

    //     bool x = pairings.run2(points2);
    //     console2.log("result:", x);
    // }

    // function testPairings3() public view {
    //     // G1 * 10
    //     uint256 aG1_x = 4444740815889402603535294170722302758225367627362056425101568584910268024244;
    //     uint256 aG1_y = 10537263096529483164618820017164668921386457028564663708352735080900270541420;

    //     // G2
    //     uint256 bG2_x1 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
    //     uint256 bG2_x2 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
    //     uint256 bG2_y1 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
    //     uint256 bG2_y2 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;

    //     // G1
    //     uint256 cG1_x = 1;
    //     uint256 cG1_y = 2;

    //     // G2 * 5
    //     uint256 dG2_x1 = 20954117799226682825035885491234530437475518021362091509513177301640194298072;
    //     uint256 dG2_x2 = 4540444681147253467785307942530223364530218361853237193970751657229138047649;
    //     uint256 dG2_y1 = 21508930868448350162258892668132814424284302804699005394342512102884055673846;
    //     uint256 dG2_y2 = 11631839690097995216017572651900167465857396346217730511548857041925508482915;

    //     // G1 * 5
    //     uint256 eG1_x = 10744596414106452074759370245733544594153395043370666422502510773307029471145;
    //     uint256 eG1_y = 848677436511517736191562425154572367705380862894644942948681172815252343932;

    //     // G2
    //     uint256 fG2_x1 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
    //     uint256 fG2_x2 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
    //     uint256 fG2_y1 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
    //     uint256 fG2_y2 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;

    //     uint256[18] memory points = [
    //         aG1_x,
    //         aG1_y,
    //         bG2_x2,
    //         bG2_x1,
    //         bG2_y2,
    //         bG2_y1,
    //         cG1_x,
    //         cG1_y,
    //         dG2_x2,
    //         dG2_x1,
    //         dG2_y2,
    //         dG2_y1,
    //         eG1_x,
    //         eG1_y,
    //         fG2_x1,
    //         fG2_x2,
    //         fG2_y1,
    //         fG2_y2
    //     ];

    //     bool x = pairings.run3(points);
    //     console2.log("result:", x);
    // }

    // function testPairings4() public view {
    //     // neg(G1 * 10)
    //     uint256 aG1_x = 4444740815889402603535294170722302758225367627362056425101568584910268024244;
    //     uint256 aG1_y = 11350979775309792057627585728092606167309854128733159954336302813744955667163;

    //     // G2
    //     uint256 bG2_x1 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
    //     uint256 bG2_x2 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
    //     uint256 bG2_y1 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
    //     uint256 bG2_y2 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;

    //     // G1
    //     uint256 cG1_x = 1;
    //     uint256 cG1_y = 2;

    //     // G2 * 5
    //     uint256 dG2_x1 = 20954117799226682825035885491234530437475518021362091509513177301640194298072;
    //     uint256 dG2_x2 = 4540444681147253467785307942530223364530218361853237193970751657229138047649;
    //     uint256 dG2_y1 = 21508930868448350162258892668132814424284302804699005394342512102884055673846;
    //     uint256 dG2_y2 = 11631839690097995216017572651900167465857396346217730511548857041925508482915;

    //     // G1 * 5
    //     // uint256 eG1_x = 10744596414106452074759370245733544594153395043370666422502510773307029471145;
    //     // uint256 eG1_y = 848677436511517736191562425154572367705380862894644942948681172815252343932;

    //     // G1 * 2
    //     uint256 eG1_x = 1368015179489954701390400359078579693043519447331113978918064868415326638035;
    //     uint256 eG1_y = 9918110051302171585080402603319702774565515993150576347155970296011118125764;

    //     // G2
    //     uint256 fG2_x1 = 10857046999023057135944570762232829481370756359578518086990519993285655852781;
    //     uint256 fG2_x2 = 11559732032986387107991004021392285783925812861821192530917403151452391805634;
    //     uint256 fG2_y1 = 8495653923123431417604973247489272438418190587263600148770280649306958101930;
    //     uint256 fG2_y2 = 4082367875863433681332203403145435568316851327593401208105741076214120093531;

    //     bytes memory points2 = abi.encode(
    //         aG1_x,
    //         aG1_y,
    //         bG2_x2,
    //         bG2_x1,
    //         bG2_y2,
    //         bG2_y1,
    //         cG1_x,
    //         cG1_y,
    //         dG2_x2,
    //         dG2_x1,
    //         dG2_y2,
    //         dG2_y1,
    //         eG1_x,
    //         eG1_y,
    //         fG2_x1,
    //         fG2_x2,
    //         fG2_y1,
    //         fG2_y2
    //     );

    //     bool x = pairings.run2(points2);
    //     console2.log("result:", x);
    // }

    // function testX() public view {
    //     uint256[] memory input = new uint256[](3);
    //     input[0] = 2;
    //     input[1] = 3;
    //     input[2] = 5;

    //     (uint256 x, uint256 y) = pairings.createX(input);
    //     console2.log("x:", x, "y:", y);
    // }
}
